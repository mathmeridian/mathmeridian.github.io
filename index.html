<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Meridian | Premium Mathematics Tutoring</title>
    <!-- Optimized Font Loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* --- Color Palette (Base Values) --- */
            --palette-blue-900: #0f172a;
            --palette-blue-800: #1e293b;
            --palette-blue-600: #2563eb;
            --palette-blue-400: #60a5fa;
            --palette-green-600: #059669;
            --palette-green-500: #10b981;
            --palette-green-400: #34d399;
            --palette-slate-50: #f8fafc;
            --palette-slate-100: #f1f5f9;
            --palette-slate-200: #e2e8f0;
            --palette-slate-400: #94a3b8;
            --palette-slate-600: #475569;
            --palette-slate-700: #334155;
            --palette-slate-800: #1e293b;
            --palette-slate-900: #0f172a;
            --palette-white: #ffffff;
            --palette-black: #000000;

            /* --- Legacy Variables (Mapped to Palette) --- */
            --primary-blue: var(--palette-blue-900);
            --secondary-blue: var(--palette-blue-800);
            --accent-blue: var(--palette-blue-600);
            --primary-green: var(--palette-green-600);
            --secondary-green: var(--palette-green-500);
            --dark-green: #047857;
            --bright-green: #22c55e;
            
            /* --- Semantic Theme Variables (Light Mode Default) --- */
            --bg-body: var(--palette-white);
            --bg-surface: var(--palette-white);
            --bg-section: var(--palette-slate-50); /* Light Gray */
            --bg-glass: rgba(255, 255, 255, 0.95);
            --bg-input: var(--palette-slate-50);
            
            --text-main: var(--palette-slate-700);
            --text-heading: var(--palette-blue-900);
            --text-muted: var(--palette-slate-600);
            --text-inverse: var(--palette-white);
            
            --border-color: var(--palette-slate-200);
            --card-border: var(--palette-slate-200);
            
            --icon-bg: #eff6ff; /* Light Blue */
            --icon-color: var(--accent-blue);
            
            --footer-bg: var(--palette-blue-900);
            --footer-text: rgba(255, 255, 255, 0.8);
            
            /* Shadows */
            --shadow-color: rgba(0,0,0,0.05);
            --shadow-sm: 0 1px 2px var(--shadow-color);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
            --shadow-premium: 0 20px 25px -5px rgba(0, 0, 0, 0.05), 0 10px 10px -5px rgba(0, 0, 0, 0.02);
            
            --border-radius: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* --- Dark Mode Overrides --- */
        [data-theme="dark"] {
            --bg-body: #020617; /* Deepest Navy/Black */
            --bg-surface: #1e293b; /* Slate 800 */
            --bg-section: #0f172a; /* Slate 900 */
            --bg-glass: rgba(15, 23, 42, 0.95);
            --bg-input: #0f172a;
            
            --text-main: #e2e8f0; /* Slate 200 */
            --text-heading: #f8fafc; /* Slate 50 */
            --text-muted: #94a3b8; /* Slate 400 */
            --text-inverse: #f8fafc;
            
            --border-color: #334155; /* Slate 700 */
            --card-border: #334155;
            
            --icon-bg: #334155;
            --icon-color: #60a5fa; /* Brighter Blue */
            
            --footer-bg: #000000; /* Darker than body */
            --footer-text: #cbd5e1;
            
            --shadow-color: rgba(0,0,0,0.3);
            
            /* Re-map legacy specific colors for dark mode context */
            --primary-blue: #60a5fa; /* Make headings lighter blue */
            --accent-blue: #3b82f6;
            --dark-gray: #94a3b8;
            --light-blue: #1e293b; /* Turn light blue backgrounds into dark surface */
            --light-green: rgba(16, 185, 129, 0.1); /* Darker green bg */
            --light-gray: #0f172a;
            --white: #1e293b; /* Re-map white classes to dark surface */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-main);
            background-color: var(--bg-body);
            line-height: 1.7;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        h1, h2, h3, h4 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            line-height: 1.2;
            color: var(--text-heading); /* Uses semantic variable */
            margin-bottom: 1rem;
            transition: color 0.3s ease;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        /* Header & Navigation */
        header {
            background-color: var(--bg-glass);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border-color);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            padding: 0.75rem 0;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }

        .logo-image {
            height: 48px;
            width: auto;
            border-radius: 8px;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-main {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-heading);
            line-height: 1.1;
            letter-spacing: -0.02em;
        }

        .logo-tagline {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Theme Toggle Button */
        .theme-toggle {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-heading);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            margin-left: 1rem;
            font-size: 1.2rem;
        }

        .theme-toggle:hover {
            background-color: var(--bg-section);
            transform: rotate(15deg);
        }

        /* Desktop Navigation */
        .desktop-nav {
            display: flex;
            align-items: center;
        }

        .explore-container {
            position: relative;
        }

        .explore-btn {
            background: var(--text-heading); /* Dynamic Color */
            color: var(--bg-body); /* Dynamic Contrast */
            padding: 0.6rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
        }

        [data-theme="dark"] .explore-btn {
            background: var(--accent-blue);
            color: white;
        }

        .explore-btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .explore-menu {
            position: absolute;
            top: 120%;
            right: 0;
            background: var(--bg-surface);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-premium);
            padding: 1rem 0;
            min-width: 220px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: var(--transition);
            z-index: 1001;
            border: 1px solid var(--border-color);
        }

        .explore-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .explore-menu ul {
            list-style: none;
        }

        .explore-menu a {
            display: block;
            padding: 0.75rem 1.5rem;
            color: var(--text-main);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            font-size: 0.95rem;
        }

        .explore-menu a:hover {
            background-color: var(--bg-section);
            color: var(--accent-blue);
            padding-left: 1.75rem;
        }

        /* Mobile Navigation */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-heading);
            cursor: pointer;
            z-index: 1001;
            margin-left: 10px;
        }

        .mobile-nav {
            position: fixed;
            top: 0;
            right: -100%;
            width: 80%;
            max-width: 320px;
            height: 100vh;
            background: var(--bg-surface);
            box-shadow: var(--shadow-premium);
            padding: 5rem 2rem 2rem;
            transition: var(--transition);
            z-index: 999;
            overflow-y: auto;
        }

        .mobile-nav.active {
            right: 0;
        }

        .mobile-nav ul {
            list-style: none;
        }

        .mobile-nav li {
            margin-bottom: 1rem;
        }

        .mobile-nav a {
            text-decoration: none;
            color: var(--text-heading);
            font-weight: 600;
            font-size: 1.1rem;
            padding: 0.5rem 0;
            display: block;
            border-bottom: 1px solid var(--border-color);
        }

        .nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.4);
            backdrop-filter: blur(4px);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 998;
        }

        .nav-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Buttons */
        .btn {
            padding: 0.9rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--text-heading);
            color: var(--bg-body);
        }
        
        [data-theme="dark"] .btn-primary {
            background-color: var(--accent-blue);
            color: white;
        }

        /* High Contrast Hero Button */
        .btn-contrast {
            background-color: var(--secondary-green);
            color: white;
            box-shadow: 0 4px 14px 0 rgba(16, 185, 129, 0.4);
        }

        .btn-contrast:hover {
            background-color: var(--bright-green);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3);
        }

        .btn-accent {
            background-color: var(--accent-blue);
            color: white;
            box-shadow: 0 4px 14px 0 rgba(37, 99, 235, 0.3);
        }

        .btn-accent:hover {
            background-color: #1d4ed8;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.23);
        }

        .btn-secondary {
            background-color: rgba(255,255,255,0.1);
            color: var(--white);
            border: 1px solid rgba(255,255,255,0.4);
            backdrop-filter: blur(4px);
        }

        .btn-secondary:hover {
            background-color: var(--white);
            color: var(--palette-white);
            transform: translateY(-2px);
        }

        /* Updated Hero Section */
        .hero {
            padding: 16rem 0 12rem;
            background: linear-gradient(rgba(15, 23, 42, 0.92), rgba(15, 23, 42, 0.90)), url('https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
            overflow: hidden;
            color: white;
            text-align: center;
        }

        .hero-content {
            max-width: 900px;
            position: relative;
            z-index: 2;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            color: white; /* Always white on dark overlay */
            letter-spacing: -0.02em;
            line-height: 1.1;
            text-shadow: 0 4px 12px rgba(0,0,0,0.5);
        }

        .hero .tagline {
            font-size: 1.5rem;
            color: #bae6fd;
            margin-bottom: 2rem;
            font-weight: 500;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.15rem;
            margin-bottom: 1.5rem;
            color: rgba(255,255,255,0.9);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-buttons {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            margin-top: 2.5rem;
            justify-content: center;
        }

        .read-more {
            color: #4ade80;
            font-weight: 600;
            text-decoration: underline;
            text-underline-offset: 4px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: var(--transition);
            cursor: pointer;
            margin-top: 1rem;
            font-size: 1.1rem;
        }

        .read-more:hover {
            gap: 8px;
            color: white;
        }

        .hidden-text {
            display: none;
            margin-top: 2rem;
            padding: 2rem;
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            border-left: 4px solid var(--secondary-green);
            backdrop-filter: blur(10px);
            text-align: left;
        }
        
        .hidden-text.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Mission Section */
        .mission-section {
            padding: 5rem 0;
            background-color: var(--bg-section);
            text-align: center;
            transition: background-color 0.3s ease;
        }

        .mission-section h2 {
            font-size: 2.5rem;
            color: var(--text-heading);
            margin-bottom: 1.5rem;
        }

        .mission-section p {
            font-size: 1.15rem;
            color: var(--text-main);
            max-width: 900px;
            margin: 0 auto;
            line-height: 1.8;
        }

        /* Section Styling */
        .section {
            padding: 7rem 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title h2 {
            font-size: 2.5rem;
            color: var(--text-heading);
            position: relative;
            display: inline-block;
        }

        /* What We Offer Section */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background: var(--bg-surface);
            padding: 2.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            border: 1px solid var(--card-border);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-premium);
            border-color: var(--accent-blue);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: var(--icon-bg);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            color: var(--icon-color);
            font-size: 1.5rem;
        }
        
        .feature-card h3 {
            color: var(--text-heading);
        }
        
        .feature-card p {
            color: var(--text-muted);
        }

        /* Merged Learning & Offers Section */
        .learning-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
        }

        .learning-card {
            background: var(--bg-surface);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--card-border);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .learning-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-premium);
            border-color: var(--accent-blue);
        }

        .card-image-container {
            height: 200px;
            background: var(--icon-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }
        
        .card-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .learning-card:hover .card-image-container img {
            transform: scale(1.05);
        }
        
        .image-placeholder {
            font-size: 3rem;
            color: var(--icon-color);
            opacity: 0.7;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .image-placeholder span {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .card-content {
            padding: 2rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .card-content h3 {
            font-size: 1.25rem;
            margin-bottom: 0.75rem;
            color: var(--text-heading);
        }
        
        .card-content p {
            color: var(--text-muted);
            font-size: 0.95rem;
        }

        /* Reviews Section - Carousel Enhancements */
        .reviews-section {
            background-color: var(--bg-section);
            transition: background-color 0.3s ease;
        }
        
        .reviews-container {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 50px; /* Space for buttons */
        }

        .reviews-scroll-area {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            gap: 2rem;
            padding: 1rem 0.5rem 2rem;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            scroll-behavior: smooth;
        }
        
        .reviews-scroll-area::-webkit-scrollbar {
            display: none;
        }
        
        /* Navigation Buttons for Carousel */
        .review-nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 44px;
            height: 44px;
            background: var(--bg-surface);
            border: 1px solid var(--border-color);
            border-radius: 50%;
            color: var(--text-heading);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }

        .review-nav-btn:hover {
            background: var(--text-heading);
            color: var(--bg-body);
            box-shadow: var(--shadow-lg);
        }

        .review-prev { left: 0; }
        .review-next { right: 0; }
        
        .review-card {
            min-width: 350px;
            max-width: 350px;
            flex: 0 0 auto;
            scroll-snap-align: center;
            padding: 2.5rem 2rem;
            text-align: center;
            background: var(--bg-surface);
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            border: 1px solid var(--card-border);
            transition: var(--transition);
        }
        
        .review-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }
        
        .review-stars {
            color: #fbbf24; /* Amber */
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }
        
        .review-text {
            font-size: 1rem;
            font-style: italic;
            color: var(--text-main);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        
        .verified-badge {
            background: var(--palette-green-500);
            color: white;
            padding: 4px;
            width: 24px;
            height: 24px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-size: 0.75rem;
            margin-left: 8px;
            border: 1px solid rgba(16, 185, 129, 0.3);
            vertical-align: middle;
        }
        
        [data-theme="dark"] .verified-badge {
            background: rgba(16, 185, 129, 0.2);
            color: #34d399;
            border-color: #34d399;
        }

        /* Courses Section */
        .grade-filter {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-bottom: 3rem;
        }

        .grade-btn {
            padding: 0.75rem 1.5rem;
            background-color: var(--bg-surface);
            border: 1px solid var(--border-color);
            border-radius: 30px;
            font-weight: 500;
            color: var(--text-muted);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.95rem;
        }

        .grade-btn.active, .grade-btn:hover {
            background-color: var(--text-heading);
            color: var(--bg-body);
            border-color: var(--text-heading);
        }
        
        [data-theme="dark"] .grade-btn.active,
        [data-theme="dark"] .grade-btn:hover {
            background-color: var(--accent-blue);
            color: white;
            border-color: var(--accent-blue);
        }

        /* Horizontal Scrolling Courses */
        .courses-container {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            gap: 1.5rem;
            padding-bottom: 2rem;
            -webkit-overflow-scrolling: touch;
        }
        
        .courses-container::-webkit-scrollbar {
            height: 8px;
        }
        
        .courses-container::-webkit-scrollbar-track {
            background: var(--bg-section);
            border-radius: 4px;
        }
        
        .courses-container::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }
        
        .courses-container::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }

        .course-card {
            min-width: 320px;
            max-width: 320px;
            flex: 0 0 auto;
            scroll-snap-align: start;
            background: var(--bg-surface);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--card-border);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .course-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-premium);
            border-color: var(--accent-blue);
        }

        .course-header {
            background: var(--text-heading);
            color: var(--bg-body);
            padding: 1.5rem;
        }
        
        [data-theme="dark"] .course-header {
            background: var(--accent-blue);
            color: white;
        }
        
        .course-header h3 { color: inherit; margin-bottom: 0.5rem; font-size: 1.25rem; }
        
        .course-grade {
            background: rgba(255,255,255,0.15);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .course-body { padding: 1.5rem; flex-grow: 1; display: flex; flex-direction: column; }
        
        .course-features ul {
            list-style: none;
            margin: 1rem 0;
            padding: 0;
        }
        
        .course-features li {
            padding: 0.4rem 0;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .course-features li i { color: var(--palette-green-500); }

        /* Global Curriculum */
        .global-curriculum-section {
            background: var(--text-heading);
            color: white;
            padding: 6rem 0;
            position: relative;
        }
        
        [data-theme="dark"] .global-curriculum-section {
            background: #0f172a; /* Slate 900 */
        }
        
        .global-curriculum-section .section-title h2 { color: white; }
        .global-curriculum-section .section-subtitle { color: rgba(255,255,255,0.8); text-align: center; margin-bottom: 3rem; }

        .curriculum-grid {
            display: grid;
            gap: 1.5rem;
            /* Mobile default */
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); 
        }

        /* Desktop Grid Force 3x2 */
        @media (min-width: 992px) {
            .curriculum-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .curriculum-block {
            padding: 2.5rem 1.5rem;
            text-align: center;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(5px);
            border-radius: var(--border-radius);
            border: 1px solid rgba(255,255,255,0.1);
            transition: var(--transition);
            cursor: pointer;
        }

        .curriculum-block:hover {
            background: var(--bg-surface);
            transform: translateY(-5px);
        }
        
        .curriculum-block:hover h3 { color: var(--text-heading); }
        .curriculum-block:hover p { color: var(--text-muted); }
        
        .curriculum-block h3 { color: white; font-size: 1.25rem; margin-bottom: 0.5rem; }
        .curriculum-block p { color: rgba(255,255,255,0.7); font-size: 0.95rem; }

        /* Teacher Profile */
        .teacher-profile {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 4rem;
            align-items: center;
        }
        
        .teacher-photo-frame-large {
            width: 280px;
            height: 280px;
            border-radius: 50%;
            margin: 0 auto;
            background: linear-gradient(135deg, var(--icon-bg), var(--bg-surface));
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .teacher-photo-frame-large img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Inquiry Form */
        .inquiry-form-section { background-color: var(--bg-section); }

        .inquiry-form-container {
            background: var(--bg-surface);
            border-radius: 20px;
            box-shadow: var(--shadow-premium);
            overflow: hidden;
            border: 1px solid var(--border-color);
            max-width: 900px;
            margin: 0 auto;
        }

        .form-header {
            background: var(--text-heading);
            color: var(--bg-body);
            padding: 3rem 2rem;
            text-align: center;
        }
        
        [data-theme="dark"] .form-header {
            background: var(--accent-blue);
            color: white;
        }

        .form-header h2 { color: inherit; margin-bottom: 0.5rem; }
        .form-subtitle { color: inherit; opacity: 0.9; }

        .form-content { padding: 3rem; }
        
        .form-group { margin-bottom: 1.5rem; }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-heading);
        }

        .form-control {
            width: 100%;
            padding: 0.9rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
            background: var(--bg-input);
            color: var(--text-main);
            font-family: inherit;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
        }
        
        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0.75rem;
            background: var(--bg-input);
            border-radius: 8px;
            border: 1px solid transparent;
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-main);
        }
        
        .checkbox-label:hover {
            border-color: var(--accent-blue);
            background: var(--bg-section);
        }
        
        .curriculum-checkbox-grid, .purpose-checkbox-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 0.75rem;
        }
        
        .form-submit-btn {
            width: 100%;
            padding: 1rem;
            background: var(--palette-green-600);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .form-submit-btn:hover {
            background: var(--dark-green);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        /* Footer */
        footer {
            background: var(--footer-bg);
            color: var(--footer-text);
            padding: 5rem 0 2rem;
            transition: background-color 0.3s ease;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }
        
        .footer-logo .logo-main { color: white; }
        .footer-links h4 { color: white; margin-bottom: 1.5rem; }
        
        .footer-links a {
            color: var(--footer-text);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 0.8rem;
            transition: var(--transition);
        }
        
        .footer-links a:hover { color: white; padding-left: 5px; }
        
        .footer-bottom {
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 2rem;
            text-align: center;
            color: var(--footer-text);
            font-size: 0.9rem;
        }

        .payment-methods {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 1.25rem;
            margin-top: 1.5rem;
            color: var(--footer-text);
        }
        
        /* Updated Payment Styling */
        .payment-logo {
            height: 24px;
            width: auto;
            /* Make images white and monochrome to match font icons */
            filter: brightness(0) invert(1);
            opacity: 0.9;
            transition: opacity 0.3s;
        }
        
        .payment-logo:hover { opacity: 1; }
        
        .payment-icon {
            font-size: 24px;
            opacity: 0.9;
        }

        .request-payment-btn {
            display: inline-block;
            margin-top: 1.5rem;
            padding: 0.8rem 1.5rem;
            background-color: var(--secondary-green);
            color: white;
            text-decoration: none;
            font-weight: 600;
            border-radius: 8px;
            transition: var(--transition);
            box-shadow: var(--shadow-md);
        }

        .request-payment-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            background-color: var(--primary-green);
        }

        /* Modal */
        .course-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(4px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .course-modal.active { display: flex; }

        .modal-content {
            background: var(--bg-surface);
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            border-radius: var(--border-radius);
            position: relative;
            box-shadow: var(--shadow-premium);
            color: var(--text-main);
        }
        
        .modal-header {
            background: var(--text-heading);
            padding: 2rem;
            color: var(--bg-body);
            position: relative;
        }
        
        [data-theme="dark"] .modal-header {
            background: var(--accent-blue);
            color: white;
        }
        
        .close-modal {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: rgba(255,255,255,0.2);
            border: none;
            color: white; /* Always white on dark header */
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-body { padding: 2rem; }
        
        .modal-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .modal-logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--text-heading), var(--accent-blue));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
        }
        
        .modal-logo-icon::after { content: "π∑"; font-weight: 700; }
        .modal-logo-text { font-weight: 700; color: var(--text-heading); font-size: 1.2rem; }

        /* Other Inputs */
        .other-input { display: none; margin-top: 0.5rem; }
        .other-input.active { display: block; }
        
        /* --- AI Assistant Styles --- */
        .ai-fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--accent-blue), var(--text-heading));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.4);
            transition: var(--transition);
            z-index: 1002;
            animation: bounceIn 1s ease;
        }

        .ai-fab:hover {
            transform: scale(1.1) rotate(5deg);
        }
        
        .ai-window {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 380px;
            height: 600px;
            background: var(--bg-surface);
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.4);
            z-index: 1002;
            display: none;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: var(--transition);
            opacity: 0;
            transform: translateY(20px);
        }

        .ai-window.active {
            display: flex;
            opacity: 1;
            transform: translateY(0);
        }

        .ai-header {
            background: var(--text-heading);
            padding: 1rem 1.5rem;
            color: var(--bg-body);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        [data-theme="dark"] .ai-header {
            background: var(--palette-slate-800);
            color: white;
        }

        .ai-tabs {
            display: flex;
            background: var(--bg-section);
            padding: 0.5rem;
            gap: 0.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .ai-tab {
            flex: 1;
            text-align: center;
            padding: 0.5rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-muted);
        }

        .ai-tab.active {
            background: var(--bg-surface);
            color: var(--accent-blue);
            box-shadow: var(--shadow-sm);
        }

        .ai-content-area {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            display: none;
            color: var(--text-main);
        }

        .ai-content-area.active {
            display: block;
        }
        
        /* Chat UI */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding-bottom: 1rem;
        }

        .message {
            max-width: 85%;
            padding: 0.8rem 1rem;
            border-radius: 12px;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .message.bot {
            background: var(--icon-bg);
            color: var(--text-main);
            border-bottom-left-radius: 2px;
            align-self: flex-start;
        }

        .message.user {
            background: var(--accent-blue);
            color: white;
            border-bottom-right-radius: 2px;
            align-self: flex-end;
        }

        .chat-input-area {
            margin-top: auto;
            display: flex;
            gap: 0.5rem;
            border-top: 1px solid var(--border-color);
            padding-top: 1rem;
        }

        .chat-input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            outline: none;
            font-family: inherit;
            background: var(--bg-input);
            color: var(--text-main);
        }

        .chat-send-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-green);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .chat-send-btn:hover {
            transform: scale(1.1);
        }

        /* Planner UI */
        .planner-form label {
            display: block;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-main);
        }
        
        .planner-form select, .planner-form input {
            width: 100%;
            padding: 0.6rem;
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-family: inherit;
            background: var(--bg-input);
            color: var(--text-main);
        }

        .plan-result {
            margin-top: 1.5rem;
            font-size: 0.9rem;
            color: var(--text-main);
        }
        
        .plan-result table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        
        .plan-result th, .plan-result td {
            border: 1px solid var(--border-color);
            padding: 0.5rem;
            text-align: left;
        }
        
        .plan-result th {
            background: var(--icon-bg);
            font-weight: 600;
            color: var(--text-heading);
        }

        /* Loading Dots */
        .typing-indicator {
            display: inline-flex;
            gap: 4px;
        }
        .typing-dot {
            width: 6px;
            height: 6px;
            background: var(--text-muted);
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
        
        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.3); }
            50% { opacity: 1; transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }

        /* Responsive */
        @media (max-width: 992px) {
            .teacher-profile { grid-template-columns: 1fr; text-align: center; }
            .desktop-nav { display: none; }
            .mobile-menu-btn { display: block; }
        }
        
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5rem; }
            .section { padding: 4rem 0; }
            .form-content { padding: 1.5rem; }
            .hero-buttons { flex-direction: column; }
            .review-card { min-width: 300px; max-width: 300px; padding: 2rem 1.5rem; }
            .reviews-container { padding: 0 10px; }
            .review-nav-btn { display: none; } /* Hide buttons on mobile, allow swipe */
            .ai-window { width: 90%; right: 5%; bottom: 100px; height: 500px; }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header id="mainHeader">
        <div class="container header-container">
            <a href="#home" class="logo">
                <!-- Using Placeholder Image as requested -->
                <img src="newlogo.png" alt="KSG Logo" class="logo-image">
                <div class="logo-text">
                    <div class="logo-main">Math Meridian</div>
                    <div class="logo-tagline">Where Knowledge Meets Excellence</div>
                </div>
            </a>
            
            <nav class="desktop-nav">
                <div class="explore-container">
                    <button class="explore-btn" id="exploreBtn">
                        <i class="far fa-compass" style="margin-right: 8px; font-size: 1.1rem;"></i> 
                        Explore
                    </button>
                    <div class="explore-menu" id="exploreMenu">
                        <ul>
                            <li><a href="#home">Home</a></li>
                            <li><a href="#learning">Learning Experience</a></li>
                            <li><a href="#reviews">Reviews</a></li>
                            <li><a href="#courses">Courses</a></li>
                            <li><a href="#global-curriculum">Global Curriculum</a></li>
                            <li><a href="#teacher">Teacher</a></li>
                            <li><a href="#inquiry-form">Book Demo</a></li>
                            <li><a href="#contact">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
            
            <div style="display: flex; align-items: center;">
                <button id="themeToggle" class="theme-toggle" aria-label="Toggle Dark Mode">
                    <i class="fas fa-sun"></i>
                </button>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <div class="nav-overlay" id="navOverlay"></div>
    <nav class="mobile-nav" id="mobileNav">
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#learning">Learning Experience</a></li>
            <li><a href="#reviews">Reviews</a></li>
            <li><a href="#courses">Courses</a></li>
            <li><a href="#global-curriculum">Global Curriculum</a></li>
            <li><a href="#teacher">Teacher</a></li>
            <li><a href="#inquiry-form">Book Demo</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container hero-content">
            <h1>Personalized Online Mathematics Tutoring</h1>
            <div class="tagline">Empowering students worldwide with confidence, clarity, and precision in mathematics.</div>
            <p>At Math Meridian, we provide personalized mathematics tutoring designed to help students build strong concepts and confidence aligned with their school syllabus.</p>
            
            <div class="hero-buttons">
                <!-- High Contrast Button -->
                <a href="#inquiry-form" class="btn btn-contrast">
                    <i class="fas fa-calendar-check"></i> Book a Free Demo
                </a>
                <a href="#courses" class="btn btn-secondary">Explore Courses</a>
            </div>

        </div>
    </section>

    <!-- Our Mission Section -->
    <section class="mission-section" id="mission">
        <div class="container">
            <h2>Our Mission</h2>
            <p>Our mission is to make high-quality mathematics education accessible to students worldwide, combining strong academic standards with modern technology and a human-centered approach. We believe that every student has the potential to excel in mathematics with the right guidance, personalized attention, and a supportive learning environment.</p>
            <hr style="border: 0; border-top: 3px solid rgba(255,255,255,0.2); margin: 1.5rem 0;">
            <p>We proudly support students from international boards, CBSE, ICSE, ISC, IB, ensuring global standards with a personal touch. Our lessons are tailored to match individual learning paces.</p>
        </div>
    </section>

    <!-- What We Offer Section -->
    <section class="section">
        <div class="container">
            <div class="section-title">
                <h2>What We Offer</h2>
            </div>
            <div class="features" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <h3>Curriculum-Aligned Tutoring</h3>
                    <p>Teaching based on your child's exact school syllabus and exam pattern</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-user-graduate"></i>
                    </div>
                    <h3>Personalized Learning</h3>
                    <p>One-on-one or small-group sessions matched to each student's pace and level</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3>Concept-Focused Approach</h3>
                    <p>Deep understanding of concepts instead of rote memorization</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3>Competitive Exam Prep</h3>
                    <p>Specialized training for school-level and international math competitions</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Unified Learning Experience & Offerings Section -->
    <section class="section" id="learning">
        <div class="container">
            <div class="section-title">
                <h2>Our Learning Experience & Offerings</h2>
                <p style="color: var(--text-muted); max-width: 600px; margin: 0 auto 3rem;">A holistic approach combining personalized attention with rigorous academic standards.</p>
            </div>
            
            <div class="learning-grid">
                <!-- Card 1 -->
                <div class="learning-card">
                    <div class="card-image-container">
                        <img src="personalised-live-classes.png" alt="Live Session" style="width:100%; height:100%; object-fit:cover;">
                    </div>
                    <div class="card-content">
                        <h3>Personalized Live Classes</h3>
                        <p>One-on-one and small group sessions aligned with school syllabus and individual pace.</p>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="learning-card">
                    <div class="card-image-container">
                        <img src="https://images.unsplash.com/photo-1509228468518-180dd4864904?q=80&w=2070" alt="Syllabus" style="width:100%; height:100%; object-fit:cover;">
                    </div>
                    <div class="card-content">
                        <h3>Curriculum Aligned</h3>
                        <p>Tailored specifically to your child's school board (IB, IGCSE, CBSE) and exam patterns.</p>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="learning-card">
                    <div class="card-image-container">
                        <img src="interactive-classroom.png" alt="Digital Tools" style="width:100%; height:100%; object-fit:cover;">
                    </div>
                    <div class="card-content">
                        <h3>Interactive Classroom</h3>
                        <p>Using digital whiteboards and modern tools to visualize complex concepts clearly.</p>
                    </div>
                </div>

                <!-- Card 4 -->
                <div class="learning-card">
                    <div class="card-image-container">
                        <img src="https://images.unsplash.com/photo-1635070041078-e363dbe005cb?q=80&w=2070&auto=format&fit=crop" alt="Concept Map" style="width:100%; height:100%; object-fit:cover;">
                    </div>
                    <div class="card-content">
                        <h3>Concept-Driven</h3>
                        <p>We move beyond rote memorization, focusing on logical thinking and core understanding.</p>
                    </div>
                </div>

                <!-- Card 5 -->
                <div class="learning-card">
                    <div class="card-image-container">
                        <img src="competitive-preperation.png" alt="Competitive Exam" style="width:100%; height:100%; object-fit:cover;">
                    </div>
                    <div class="card-content">
                        <h3>Competitive Prep</h3>
                        <p>Specialized training for Olympiads, SAT Math, and entrance exams for top tiers.</p>
                    </div>
                </div>

                <!-- Card 6 -->
                <div class="learning-card">
                    <div class="card-image-container">
                        <img src="continuous-support.png" alt="Mentoring" style="width:100%; height:100%; object-fit:cover;">
                    </div>
                    <div class="card-content">
                        <h3>Continuous Support</h3>
                        <p>Regular doubt-solving sessions, progress tracking, and academic mentoring.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews Section (Scrollable Horizontal) -->
    <section class="section reviews-section" id="reviews">
        <div class="container">
            <div class="section-title">
                <h2>Verified Reviews <span class="verified-badge"><i class="fas fa-check"></i></span></h2>
            </div>
            
            <div class="reviews-container">
                <!-- Navigation Buttons -->
                <button class="review-nav-btn review-prev" onclick="scrollReviews('left')"><i class="fas fa-chevron-left"></i></button>
                <button class="review-nav-btn review-next" onclick="scrollReviews('right')"><i class="fas fa-chevron-right"></i></button>

                <div class="reviews-scroll-area">
                    <div class="review-card">
                        <div class="review-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                        <p class="review-text">"Concept-focused teaching and personal attention. My child's confidence in mathematics has improved significantly."</p>
                        <p><strong>Parent | USA</strong><br><span style="font-size:0.9rem; color:var(--text-muted)">SAT Math Prep</span></p>
                    </div>
                    <div class="review-card">
                        <div class="review-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                        <p class="review-text">"Excellent guidance aligned with the IB curriculum. A reliable and professional online learning experience."</p>
                        <p><strong>Parent | UK</strong><br><span style="font-size:0.9rem; color:var(--text-muted)">IB Mathematics</span></p>
                    </div>
                    <div class="review-card">
                        <div class="review-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                        <p class="review-text">"The competitive exam prep was exactly what I needed. Short tricks and logic building helped immensely."</p>
                        <p><strong>Student | Canada</strong><br><span style="font-size:0.9rem; color:var(--text-muted)">High School Mathematics</span></p>
                    </div>
                    <div class="review-card">
                        <div class="review-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                        <p class="review-text">"Classes are structured, interactive, and easy to follow. Doubts are explained clearly with patience."</p>
                        <p><strong>Student | UAE</strong><br><span style="font-size:0.9rem; color:var(--text-muted)">CBSE Mathematics</span></p>
                    </div>
                    <div class="review-card">
                        <div class="review-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                        <p class="review-text">"Patient teaching style and regular doubt clearing. The classes helped me gain confidence in math."</p>
                        <p><strong>Student | Australia</strong><br><span style="font-size:0.9rem; color:var(--text-muted)">UG Mathematics</span></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Courses Section (Scrollable Horizontal) -->
    <section class="section" id="courses">
        <div class="container">
            <div class="section-title">
                <h2>Our Courses</h2>
                <p style="color: var(--text-muted);">Browse by Grade Level</p>
            </div>
            
            <div class="grade-filter">
                <button class="grade-btn active" data-grade="all">All Grades</button>
                <button class="grade-btn" data-grade="primary">Primary (3-5)</button>
                <button class="grade-btn" data-grade="middle">Middle (6-8)</button>
                <button class="grade-btn" data-grade="high">High School (9-10)</button>
                <button class="grade-btn" data-grade="senior">Senior (11-12)</button>
                <button class="grade-btn" data-grade="ug">Undergraduate</button>
                <button class="grade-btn" data-grade="competitive">Competitive</button>
            </div>
            
            <div class="courses-container" id="coursesContainer">
                <!-- Courses injected via JS -->
            </div>
        </div>
    </section>

    <!-- Global Curriculum -->
    <section class="global-curriculum-section" id="global-curriculum">
        <div class="container">
            <div class="section-title">
                <h2>Global Curriculum Support</h2>
            </div>
            <div class="section-subtitle">
                We guide students from India, USA, UK, UAE, Singapore, and 15+ other countries.
            </div>
            
            <div class="curriculum-grid">
                <div class="curriculum-block" data-curriculum="CBSE"><h3>India (CBSE/ICSE)</h3><p>National Boards</p></div>
                <div class="curriculum-block" data-curriculum="USA"><h3>USA Curriculum</h3><p>American System</p></div>
                <div class="curriculum-block" data-curriculum="UK"><h3>UK Curriculum</h3><p>British System</p></div>
                <div class="curriculum-block" data-curriculum="IB"><h3>IB Diploma</h3><p>International</p></div>
                <div class="curriculum-block" data-curriculum="UAE"><h3>UAE Curriculum</h3><p>Middle East</p></div>
                <div class="curriculum-block" data-curriculum="Singapore"><h3>Singapore Math</h3><p>Asian Standards</p></div>
            </div>
        </div>
    </section>

    <!-- Teacher Profile -->
    <section class="section" id="teacher">
        <div class="container">
            <div class="section-title">
                <h2>Our Expert Teacher</h2>
            </div>
            <div class="teacher-profile">
                <div class="teacher-photo-frame-large">
                    <img src="dp.png" alt="Victor Chakraborty" style="width:100%; height:100%; object-fit:cover;">
                </div>
                <div class="teacher-info">
                    <h2 style="margin-bottom: 0.5rem;">Victor Chakraborty</h2>
                    <span style="background: var(--primary-green); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.9rem; font-weight: 600;">5+ Years Experience</span>
                    
                    <p style="margin-top: 1.5rem; color: var(--text-main);">
                        Dedicated mathematics educator with a passion for making complex concepts simple and engaging. Specializes in competitive mathematics and international exam preparation.
                    </p>
                    
                    <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 1rem; justify-content: center;">
                        <span style="background: var(--icon-bg); color: var(--accent-blue); padding: 5px 15px; border-radius: 8px; font-weight: 500;">M.Sc Mathematics</span>
                        <span style="background: var(--icon-bg); color: var(--accent-blue); padding: 5px 15px; border-radius: 8px; font-weight: 500;">B.Ed</span>
                        <span style="background: var(--icon-bg); color: var(--accent-blue); padding: 5px 15px; border-radius: 8px; font-weight: 500;">Competitive Trainer</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Inquiry Form -->
    <section class="section inquiry-form-section" id="inquiry-form">
        <div class="container">
            <div class="inquiry-form-container">
                <div class="form-header">
                    <h2>Book a Free Demo Session</h2>
                    <p class="form-subtitle">Share your details and we'll contact you personally on WhatsApp.</p>
                </div>
                
                <div class="form-content">
                    <form id="demoBookingForm">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                            <div class="form-group">
                                <label class="form-label">Student Name *</label>
                                <input type="text" id="studentName" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Parent Name *</label>
                                <input type="text" id="parentName" class="form-control" required>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                            <div class="form-group">
                                <label class="form-label">Email *</label>
                                <input type="email" id="email" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">WhatsApp Number *</label>
                                <input type="text" id="whatsapp" class="form-control" placeholder="+91..." required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Curriculum Type *</label>
                            <div class="curriculum-checkbox-grid">
                                <label class="checkbox-label"><input type="checkbox" name="curriculum" value="CBSE"> CBSE</label>
                                <label class="checkbox-label"><input type="checkbox" name="curriculum" value="ICSE"> ICSE</label>
                                <label class="checkbox-label"><input type="checkbox" name="curriculum" value="IB"> IB</label>
                                <label class="checkbox-label"><input type="checkbox" name="curriculum" value="IGCSE"> IGCSE</label>
                                <label class="checkbox-label"><input type="checkbox" name="curriculum" value="USA"> USA</label>
                                <label class="checkbox-label"><input type="checkbox" name="curriculum" value="UK"> UK</label>
                                <label class="checkbox-label"><input type="checkbox" name="curriculum" value="Other" id="otherCurriculumCheckbox"> Other</label>
                            </div>
                            <div id="otherCurriculumInput" class="other-input">
                                <input type="text" id="otherCurriculum" class="form-control" placeholder="Specify curriculum">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Purpose of Learning *</label>
                            <div class="purpose-checkbox-grid">
                                <label class="checkbox-label"><input type="checkbox" name="purpose" value="Academic Improvement"> Academic Improvement</label>
                                <label class="checkbox-label"><input type="checkbox" name="purpose" value="Exam Prep"> Exam Prep</label>
                                <label class="checkbox-label"><input type="checkbox" name="purpose" value="Concept Building"> Concept Building</label>
                                <label class="checkbox-label"><input type="checkbox" name="purpose" value="Competitive Exams"> Competitive Exams</label>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem;">
                            <div class="form-group">
                                <label class="form-label">Grade Level *</label>
                                <select id="grade" class="form-control" required>
                                    <option value="">Select Grade</option>
                                    <option value="Grade 3-5">Grade 3-5</option>
                                    <option value="Grade 6-8">Grade 6-8</option>
                                    <option value="Grade 9-10">Grade 9-10</option>
                                    <option value="Grade 11-12">Grade 11-12</option>
                                    <option value="Competitive">Competitive</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Country *</label>
                                <select id="country" class="form-control" required>
                                    <option value="">Select Country</option>
                                    <option value="India">India</option>
                                    <option value="USA">USA</option>
                                    <option value="UK">UK</option>
                                    <option value="UAE">UAE</option>
                                    <option value="Singapore">Singapore</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                        </div>

                        <button type="submit" class="form-submit-btn">
                            <i class="fas fa-paper-plane"></i> Submit & Book Free Demo
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Detailed Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <div class="logo-main" style="margin-bottom: 1rem;">Math Meridian</div>
                    
                    <div class="payment-methods">
                        <span>We Accept:</span>
                        <i class="fab fa-cc-visa payment-icon" title="Visa"></i>
                        <i class="fab fa-cc-mastercard payment-icon" title="Mastercard"></i>
                        <i class="fab fa-cc-paypal payment-icon" title="PayPal"></i>
                        
                        <!-- Replaced text spans with logos -->
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Rupay-Logo.png/320px-Rupay-Logo.png" alt="RuPay" class="payment-logo" title="RuPay">
                        <!-- Net Banking (Font Icon) -->
                        <i class="fas fa-university payment-icon" title="Net Banking"></i>
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/UPI-Logo-vector.svg/320px-UPI-Logo-vector.svg.png" alt="UPI" class="payment-logo" title="UPI">
                    </div>
                    <a href="mailto:mathmeridian26@gmail.com?subject=Payment Request – Online Classes" class="request-payment-btn" style="margin-top: 1.5rem; display: inline-block;">
                        Request Payment Details
                    </a>
                </div>
                
                <div class="footer-links">
                    <h4>Quick Links</h4>
                    <a href="#home">Home</a>
                    <a href="#courses">Courses</a>
                    <a href="#reviews">Reviews</a>
                    <a href="#inquiry-form">Book Demo</a>
                </div>

                <div class="footer-links">
                    <h4>Legal</h4>
                    <a href="#" class="legal-link" data-type="terms">Terms & Conditions</a>
                    <a href="#" class="legal-link" data-type="privacy">Privacy Policy</a>
                    <a href="#" class="legal-link" data-type="refund">Refund Policy</a>
                </div>
                
                <div class="footer-links">
                    <h4>Contact Info</h4>
                    <a href="mailto:mathmeridian26@gmail.com"><i class="fas fa-envelope" style="width:20px"></i> mathmeridian26@gmail.com</a>
                    <a href="tel:+919609738421"><i class="fas fa-phone" style="width:20px"></i> +91 9609738421</a>
                    <a href="#"><i class="fas fa-map-marker-alt" style="width:20px"></i> Saltlake Sector V, Kolkata, West Bengal, India</a>
                    <a href="#"><i class="fas fa-clock" style="width:20px"></i> Mon-Sat, 9 AM – 9 PM IST</a>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; 2026 Math Meridian. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Course Modal -->
    <div class="course-modal" id="courseModal">
        <div class="modal-content" id="modalContent"></div>
    </div>
    
    <!-- Gemini AI Assistant -->
    <div class="ai-fab" id="aiFab" title="AI Math Tutor">
        <i class="fas fa-robot"></i>
    </div>
    
    <div class="ai-window" id="aiWindow">
        <div class="ai-header">
            <span><i class="fas fa-sparkles" style="color: #fbbf24; margin-right: 8px;"></i> SphereBot AI</span>
            <button id="closeAi" style="background: none; border: none; color: white; cursor: pointer; font-size: 1.2rem;">&times;</button>
        </div>
        <div class="ai-tabs">
            <div class="ai-tab active" data-tab="chat">Quick Tutor</div>
            <div class="ai-tab" data-tab="planner">Study Planner</div>
        </div>
        
        <!-- Chat Tab -->
        <div class="ai-content-area active" id="chatTab">
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="message bot">Hello! I'm SphereBot. Ask me any math question or doubt you have! 🧮</div>
                </div>
                <div class="chat-input-area">
                    <input type="text" class="chat-input" id="chatInput" placeholder="Ask a math question..." onkeypress="handleEnter(event)">
                    <button class="chat-send-btn" onclick="sendChat()"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
        
        <!-- Planner Tab -->
        <div class="ai-content-area" id="plannerTab">
            <div class="planner-form">
                <label>Current Grade</label>
                <select id="planGrade">
                    <option value="Grade 8">Grade 8</option>
                    <option value="Grade 10">Grade 10 (Board Year)</option>
                    <option value="Grade 12">Grade 12</option>
                    <option value="Competitive">SAT/Olympiad</option>
                </select>
                
                <label>Focus Topic</label>
                <input type="text" id="planTopic" placeholder="e.g. Calculus, Algebra...">
                
                <label>Hours Per Day</label>
                <select id="planHours">
                    <option value="1 hour">1 hour</option>
                    <option value="2 hours">2 hours</option>
                    <option value="4+ hours">4+ hours</option>
                </select>
                
                <button class="btn btn-primary" style="width: 100%; margin-top: 10px;" onclick="generatePlan()">
                    <i class="fas fa-magic"></i> Generate 7-Day Plan
                </button>
                
                <div class="plan-result" id="planResult"></div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Theme Toggle Logic
        const themeToggleBtn = document.getElementById('themeToggle');
        const themeIcon = themeToggleBtn.querySelector('i');
        const htmlElement = document.documentElement;

        // Check Local Storage or System Preference
        const currentTheme = localStorage.getItem('theme');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (currentTheme) {
            htmlElement.setAttribute('data-theme', currentTheme);
            updateIcon(currentTheme);
        } else if (systemPrefersDark) {
            htmlElement.setAttribute('data-theme', 'dark');
            updateIcon('dark');
        }

        themeToggleBtn.addEventListener('click', () => {
            const newTheme = htmlElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            htmlElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateIcon(newTheme);
        });

        function updateIcon(theme) {
            if (theme === 'dark') {
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
            } else {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            }
        }

        // Gemini API Configuration
        const apiKey = ""; // API Key will be injected by the environment

        async function callGeminiAPI(prompt) {
            if (!apiKey) {
                console.warn("API Key missing");
                return "Error: API Key is missing.";
            }
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: prompt }]
                        }]
                    })
                });

                if (!response.ok) throw new Error('Network response was not ok');
                
                const data = await response.json();
                return data.candidates[0].content.parts[0].text;
            } catch (error) {
                console.error("Gemini API Error:", error);
                return "Sorry, I'm having trouble connecting right now. Please try again later.";
            }
        }

        // Chat Feature
        function handleEnter(e) {
            if (e.key === 'Enter') sendChat();
        }

        async function sendChat() {
            const input = document.getElementById('chatInput');
            const messages = document.getElementById('chatMessages');
            const text = input.value.trim();
            
            if (!text) return;
            
            // User Message
            const userDiv = document.createElement('div');
            userDiv.className = 'message user';
            userDiv.innerText = text;
            messages.appendChild(userDiv);
            input.value = '';
            messages.scrollTop = messages.scrollHeight;
            
            // Loading Indicator
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'message bot';
            loadingDiv.innerHTML = '<div class="typing-indicator"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>';
            messages.appendChild(loadingDiv);
            messages.scrollTop = messages.scrollHeight;
            
            // AI Response
            const systemPrompt = "You are SphereBot, a friendly and encouraging math tutor for school students. Keep answers concise, clear, and easy to understand. Use emojis occasionally. Answer this student's question: " + text;
            
            const responseText = await callGeminiAPI(systemPrompt);
            
            messages.removeChild(loadingDiv);
            
            const botDiv = document.createElement('div');
            botDiv.className = 'message bot';
            // Basic markdown parsing for bold
            botDiv.innerHTML = responseText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\n/g, '<br>');
            messages.appendChild(botDiv);
            messages.scrollTop = messages.scrollHeight;
        }

        // Planner Feature
        async function generatePlan() {
            const grade = document.getElementById('planGrade').value;
            const topic = document.getElementById('planTopic').value;
            const hours = document.getElementById('planHours').value;
            const resultDiv = document.getElementById('planResult');
            
            if(!topic) {
                alert("Please enter a focus topic!");
                return;
            }
            
            resultDiv.innerHTML = '<div style="text-align: center; color: var(--accent-blue);"><i class="fas fa-circle-notch fa-spin"></i> Generating personalized plan...</div>';
            
            const prompt = `Create a 7-day mathematics study plan for a ${grade} student focusing on "${topic}". They have ${hours} available per day. 
            Format the response as a simple HTML table with columns: Day, Focus Area, and Activity. Do not include markdown code blocks, just the raw HTML table code.`;
            
            let planHTML = await callGeminiAPI(prompt);
            
            // Clean up markdown code blocks if Gemini sends them
            planHTML = planHTML.replace(/```html/g, '').replace(/```/g, '');
            
            resultDiv.innerHTML = planHTML;
        }

        // AI UI Interactions
        const aiFab = document.getElementById('aiFab');
        const aiWindow = document.getElementById('aiWindow');
        const closeAi = document.getElementById('closeAi');
        const aiTabs = document.querySelectorAll('.ai-tab');
        const aiContents = document.querySelectorAll('.ai-content-area');

        aiFab.addEventListener('click', () => {
            aiWindow.classList.add('active');
            aiFab.style.display = 'none';
        });

        closeAi.addEventListener('click', () => {
            aiWindow.classList.remove('active');
            aiFab.style.display = 'flex';
        });

        aiTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active classes
                aiTabs.forEach(t => t.classList.remove('active'));
                aiContents.forEach(c => c.classList.remove('active'));
                
                // Add active to clicked
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab + 'Tab').classList.add('active');
            });
        });

        // --- Existing Code Below ---

        // Data
        const coursesData = {
            all: [
                { id: 1, title: "Primary Mathematics", grade: "primary", gradeDisplay: "Primary (Grades 3-5)", symbol: "🧮", description: "Foundational math skills for young learners.", features: ["Interactive games", "Basic concepts"] },
                { id: 2, title: "Middle School Math", grade: "middle", gradeDisplay: "Middle (Grades 6-8)", symbol: "📐", description: "Algebra and geometry foundations.", features: ["Logic building", "Problem solving"] },
                { id: 3, title: "High School Math", grade: "high", gradeDisplay: "High School (9-10)", symbol: "📊", description: "Board exam preparation and advanced concepts.", features: ["Mock tests", "Detailed analysis"] },
                { id: 4, title: "Senior Secondary", grade: "senior", gradeDisplay: "Senior (11-12)", symbol: "∫", description: "Calculus, vectors, and competitive prep.", features: ["JEE/Entrance prep", "Advanced theory"] },
                { id: 5, title: "UG Mathematics", grade: "ug", gradeDisplay: "Undergraduate", symbol: "∞", description: "University level advanced mathematics.", features: ["Real Analysis", "Abstract Algebra"] },
                { id: 6, title: "Competitive Math", grade: "competitive", gradeDisplay: "Olympiad / Contest", symbol: "🏆", description: "Specialized training for math competitions.", features: ["IMO/AMC Prep", "Speed techniques"] }
            ]
        };
        
        const legalContent = {
            terms: {
                title: "TERMS & CONDITIONS",
                body: "By using Math Meridian, you agree to follow our guidelines, respect our educational services, and never share personal data with third parties without consent, except where required by law. All content is for personal educational use only."
            },
            privacy: {
                title: "PRIVACY POLICY",
                body: "Math Meridian respects your privacy. We collect only necessary information to provide educational services and communication. Personal data is never shared with third parties except where required by law."
            },
            refund: {
                title: "REFUND POLICY",
                body: "Refunds are applicable only for eligible cases such as technical or service-related issues. Requests must be submitted within a specified period after enrollment and are subject to review and approval by Math Meridian. Services and materials may be updated without prior notice."
            }
        };

        // DOM Loaded
        document.addEventListener('DOMContentLoaded', function() {
            loadCourses('all');
            setupEventListeners();
            
            // Header Scroll Effect
            window.addEventListener('scroll', () => {
                const header = document.getElementById('mainHeader');
                if(window.scrollY > 50) {
                    header.style.padding = '0.4rem 0';
                    header.style.boxShadow = 'var(--shadow-md)';
                } else {
                    header.style.padding = '0.75rem 0';
                    header.style.boxShadow = 'none';
                }
            });
        });

        // Reviews Scroll Logic
        function scrollReviews(direction) {
            const container = document.querySelector('.reviews-scroll-area');
            const scrollAmount = 350; // approximate card width
            
            if (direction === 'left') {
                container.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            } else {
                container.scrollBy({ left: scrollAmount, behavior: 'smooth' });
            }
        }

        // Functions
        function loadCourses(grade) {
            const container = document.getElementById('coursesContainer');
            container.innerHTML = '';
            
            let courses = coursesData.all;
            if(grade !== 'all') courses = courses.filter(c => c.grade === grade);
            
            if(courses.length === 0) {
                container.innerHTML = '<p style="text-align: center; width: 100%; color: var(--dark-gray);">No courses found for this grade.</p>';
                return;
            }

            courses.forEach(c => {
                const card = document.createElement('div');
                card.className = 'course-card';
                card.innerHTML = `
                    <div class="course-header">
                        <h3>${c.title}</h3>
                        <div style="display:flex; justify-content:space-between; margin-top:0.5rem;">
                            <span class="course-grade">${c.gradeDisplay}</span>
                            <span>${c.symbol}</span>
                        </div>
                    </div>
                    <div class="course-body">
                        <p style="color: var(--text-muted); margin-bottom: 1rem;">${c.description}</p>
                        <div class="course-features">
                            <ul>${c.features.map(f => `<li><i class="fas fa-check-circle"></i> ${f}</li>`).join('')}</ul>
                        </div>
                        <button class="btn btn-secondary view-details" style="width:100%; margin-top:auto;" onclick="openModal(${c.id})">View Details</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function openModal(id) {
            const c = coursesData.all.find(x => x.id === id);
            if(!c) return;
            
            const modal = document.getElementById('courseModal');
            const content = document.getElementById('modalContent');
            
            content.innerHTML = `
                <div class="modal-header">
                    <button class="close-modal" onclick="closeModal()">&times;</button>
                    <h2>${c.title}</h2>
                    <span>${c.gradeDisplay}</span>
                </div>
                <div class="modal-body">
                    <p style="font-size: 1.1rem; margin-bottom: 1.5rem;">${c.description}</p>
                    <h4 style="color: var(--text-heading);">Key Features:</h4>
                    <ul style="list-style: none; margin-bottom: 2rem;">
                        ${c.features.map(f => `<li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);"><i class="fas fa-check" style="color: var(--primary-green); margin-right: 10px;"></i> ${f}</li>`).join('')}
                    </ul>
                    <a href="#inquiry-form" onclick="closeModal()" class="btn btn-primary" style="width: 100%; justify-content: center;">Book Free Demo for this Course</a>
                </div>
            `;
            modal.classList.add('active');
        }
        
        function openLegalModal(type) {
            const data = legalContent[type];
            if (!data) return;
            
            const modal = document.getElementById('courseModal');
            const content = document.getElementById('modalContent');
            
            let emoji = "";
            if(type === 'terms') emoji = "❗ "; 
            if(type === 'refund') emoji = "💰 ";
            if(type === 'privacy') emoji = "🔐 ";
            
            content.innerHTML = `
                <div class="modal-body" style="padding: 3rem;">
                    <button class="close-modal" style="color: var(--text-heading); background: var(--bg-section);" onclick="closeModal()">&times;</button>
                    
                    <div class="modal-logo">
                        <div class="modal-logo-icon"></div>
                        <div class="modal-logo-text">MathMeridian</div>
                    </div>
                    
                    <h2 style="color: var(--text-heading); margin-bottom: 1.5rem;">${emoji}${data.title}</h2>
                    <p style="font-size: 1.1rem; color: var(--text-main); line-height: 1.8;">${data.body}</p>
                </div>
            `;
            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('courseModal').classList.remove('active');
        }

        function setupEventListeners() {
            // Mobile Menu
            document.getElementById('mobileMenuBtn').addEventListener('click', () => {
                document.getElementById('mobileNav').classList.add('active');
                document.getElementById('navOverlay').classList.add('active');
            });
            
            document.getElementById('navOverlay').addEventListener('click', () => {
                document.getElementById('mobileNav').classList.remove('active');
                document.getElementById('navOverlay').classList.remove('active');
            });

            // Explore Menu
            document.getElementById('exploreBtn').addEventListener('click', (e) => {
                e.stopPropagation();
                document.getElementById('exploreMenu').classList.toggle('active');
            });
            
            document.addEventListener('click', () => {
                document.getElementById('exploreMenu').classList.remove('active');
            });

            // Read More
            document.getElementById('readMoreBtn').addEventListener('click', function() {
                document.getElementById('hiddenText').classList.toggle('show');
                const isShown = document.getElementById('hiddenText').classList.contains('show');
                this.innerHTML = isShown ? 'Read Less <i class="fas fa-arrow-up"></i>' : 'Read Our Mission <i class="fas fa-arrow-down"></i>';
            });

            // Grade Filters
            document.querySelectorAll('.grade-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.grade-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    loadCourses(this.getAttribute('data-grade'));
                });
            });
            
            // Legal Links
            document.querySelectorAll('.legal-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    openLegalModal(this.getAttribute('data-type'));
                });
            });
            
            // Other Checkbox logic
            const otherCb = document.getElementById('otherCurriculumCheckbox');
            if(otherCb) {
                otherCb.addEventListener('change', function() {
                    document.getElementById('otherCurriculumInput').classList.toggle('active', this.checked);
                });
            }

            // Form Submit
            document.getElementById('demoBookingForm').addEventListener('submit', function(e) {
                e.preventDefault();
                alert("Thank you! We will contact you on WhatsApp shortly.");
            });
        }
        
        // Add CSS for slide animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            
            .checkbox-label.selected {
                background: var(--text-heading) !important;
                color: var(--bg-body) !important;
                border-color: var(--text-heading) !important;
            }
            [data-theme="dark"] .checkbox-label.selected {
                background: var(--accent-blue) !important;
                color: white !important;
                border-color: var(--accent-blue) !important;
            }
            
            .checkbox-label.selected span {
                color: inherit !important;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>